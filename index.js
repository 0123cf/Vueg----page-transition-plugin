"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _keys=require("babel-runtime/core-js/object/keys"),_keys2=_interopRequireDefault(_keys),transition={};transition.install=function(t,e){function n(){var t=this.$el.classList;if(t){var e=[];(0,_keys2.default)(t).forEach(function(n){e.push(t[n])});var n=!1;if(e.map(function(t){"animated"===t&&(n=!0)}),n){var a=document.createElement("div");a.id="vueg-background";var i=m.default;if(i){var o=i.$data.vuegConfig;if(o&&(0,_keys2.default)(o).forEach(function(t){f[t]=o[t]}),f.disable)return;var r=document.getElementById("vueg-background");r||(i.$el.parentElement.appendChild(a),r=a),r.innerHTML="",r.classList=[],r.appendChild(this.$el),r.scrollLeft=p.x,r.scrollTop=p.y}}}}function a(){return!(!this.vuegConfig||!1!==this.vuegConfig.disable)||(!m||!m.default||m.default._uid===this._uid)}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;if(a.call(t)&&t&&!1!==l.value&&d){var e=this.$el;if(e&&e.parentElement&&1===e.nodeType){r(),(0,_keys2.default)(s).forEach(function(t){f[t]=s[t]});var n=this.$data.vuegConfig;n&&(0,_keys2.default)(n).forEach(function(t){f[t]=n[t]}),f.disable&&(c=""),f.shadow&&(e.style.boxShadow="0 3px 10px rgba(0, 0, 0, .156863), 0 3px 10px rgba(0, 0, 0, .227451)"),"first"===c&&(e.style.animationDuration=f.firstEntryDuration+"s",e.classList.add("fadeIn")),c&&(e.style.animationDuration=f.duration+"s"),e.classList.add("animated");var i=["touchPoint"],o=void 0;switch(c){case"forward":o=f.forwardAnim;break;case"back":o=f.backAnim}o&&e.classList.add(o);var u=void 0,m=document.head||document.getElementsByTagName("head")[0],p=void 0;if((u=document.getElementById("vueg-style"))||((u=document.createElement("style")).type="text/css",u.id="vueg-style",m.appendChild(u)),-1!==i.findIndex(function(t){return t===o}))switch(o){case"touchPoint":var v={x:document.documentElement.clientWidth/2,y:document.documentElement.clientHeight/2};p=".touchPoint{\n                                max-height:"+document.documentElement.clientHeight+"px!important;\n                                overflow:hidden;\n                                animation-name:touchPoint;\n                                position: relative;\n                                animation-timing-function: linear;\n                            }\n                            @keyframes touchPoint {\n                                from {\n                                    opacity:0.5;\n                                    transform: scale3d(0, 0, 0);\n                                    left:"+(-v.x+h.x)+"px;\n                                    top:"+(-v.y+h.y)+"px;\n                                }\n                                to{ \n                                    opacity:1;\n                                    transform: scale3d(1, 1, 1);\n                                    left:0;\n                                    top:0;\n                                }\n                            }";var y=document.createTextNode(p);u.appendChild(y)}setTimeout(function(){e.classList.remove(f.forwardAnim),e.classList.remove(f.backAnim),e.style.animationDuration="0s",e.style.boxShadow=null;var t=document.getElementById("vueg-background");t&&(t.innerHTML=""),-1!==i.findIndex(function(t){return t===o})&&(u.innerHTML="")},1e3*f.duration+300),setTimeout(function(){e.classList.remove("fadeIn")},1e3*f.firstEntryDuration)}}}function o(t){"mousedown"===t.type?(h.x=t.pageX,h.y=t.pageY):(h.x=t.touches[0].pageX,h.y=t.touches[0].pageY)}function r(){f={duration:"0.3",firstEntryDisable:!1,firstEntryDuration:".6",forwardAnim:"fadeInRight",backAnim:"fadeInLeft",sameDepthDisable:!1,tabs:[],tabsDisable:!1,disable:!1,shadow:!0}}var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=void 0,u=void 0,c=void 0,l={},f=void 0,m=void 0,h={x:0,y:0},p={x:0,y:0};r(),t.directive("transition",{bind:function(t,e,n,a){l=e}}),t.mixin({mounted:i,activated:i,beforeDestroy:n,deactivated:n,beforeRouteEnter:function(t,e,n){p={x:window.pageXOffset,y:window.pageYOffset},n()}}),e.beforeEach(function(t,e,n){d=t;var a=t.path.split("/").length,i=e.path.split("/").length;if("/"!==t.path.charAt(t.path.length-1)&&(a+=1),"/"!==e.path.charAt(e.path.length-1)&&(i+=1),c=a>i?"forward":"back",a===i&&(c=u===t.path?"back":"forward",f.sameDepthDisable&&(c=""),u=e.path),t.path===e.path&&t.path===u&&(c="first"),f.firstEntryDisable&&(c=""),e.name&&t.name){var o=f.tabs.findIndex(function(t){return t.name===e.name}),r=f.tabs.findIndex(function(e){return e.name===t.name});f.tabsDisable||-1===o||-1===r?-1!==o&&-1!==r&&(c=""):(r>o&&(c="forward"),r<o&&(c="back"),r===o&&(c=""))}var s=t.matched[0];m=s&&s.instances?s.instances:null,n()}),document.addEventListener("mousedown",o),document.addEventListener("touchstart",o)},module.exports=transition;